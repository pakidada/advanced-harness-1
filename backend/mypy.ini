[mypy]
files = backend/
ignore_missing_imports = True
exclude = tests/ scripts/
disallow_untyped_defs = True
disallow_any_unimported = False
no_implicit_optional = True
check_untyped_defs = True
warn_return_any = True
warn_unused_ignores = False
show_error_codes = True
plugins = pydantic.mypy, sqlalchemy.ext.mypy.plugin
show_error_context = False
# Python version
python_version = 3.12

[mypy-sqlmodel]
ignore_errors = True

[mypy-sqlmodel.*]
ignore_missing_imports = True

[mypy-backend.domain.*.model]
# Type stubs provide type hints for SQLModel dynamic attributes
ignore_missing_imports = False
follow_imports = normal
disable_error_code = call-arg

[mypy-backend.domain.*.repository]
# SQLAlchemy type stub limitations
# - Boolean comparisons (== operator) type as bool instead of ColumnElement[bool]
# - .desc() method not recognized on Column types
# - join() type expects specific types that are too strict
# - Select/SelectOfScalar type mismatch when using query builders
# These are upstream SQLAlchemy type stub issues, not code problems
disable_error_code = arg-type, attr-defined, call-overload, assignment

[mypy-backend.domain.*.service]
# Service layer may receive string literals from API that need conversion
disable_error_code = arg-type
