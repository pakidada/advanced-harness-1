# Claude ëŒ€í™” ê¸°ë¡
**ë‚ ì§œ**: 2026-01-14 15:17
**ì„¸ì…˜**: a2c25a4d-a1b8-4d58-b3f6-028f2e6eeeea

---

## ğŸ§‘ User

lighthouse ê²€ì‚¬í•˜ë‹ˆê¹Œ performance ì´ìŠˆê°€ ìˆëŒ€ \
A forced reflow occurs when JavaScript queries geometric properties (such as offsetWidth) after styles have been invalidated by a change to the DOM state. This can result in poor performance. Learn more about forced reflows and possible mitigations.Unscored\
\
ì´ê±° ê³ ì³ì¤˜ 

---

## ğŸ§‘ User

[Request interrupted by user]

---

## ğŸ§‘ User

lighthouse ê²€ì‚¬í•˜ë‹ˆê¹Œ performance ì´ìŠˆê°€ ìˆëŒ€ \
A forced reflow occurs when JavaScript queries geometric properties (such as offsetWidth) after styles have been invalidated by a change to the DOM state. This can result in poor performance. Learn more about forced reflows and possible mitigations.Unscored\
\
ì´ê±° ê³ ì³ì¤˜ \
frontend guidline ìŠ¤í‚¬ ë”°ë¥´ê³  

---

## ğŸ¤– Claude

[Tool: Skill]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ§‘ User

Base directory for this skill: /Users/chajinhyeog/workspace/ygs/.claude/skills/nextjs-frontend-guidelines

# Next.js 15 Frontend Development Guidelines for YGS

## Purpose

Comprehensive guide for YGS (ì˜ì˜ì‚¬) frontend development with Next.js 15, React 19, emphasizing App Router patterns, Server/Client component separation, shadcn/ui components, Tailwind CSS 4 styling, multi-method authentication, and Korean localization.

## When to Use This Skill

- Creating new components or pages
- Building new features with App Router
- Fetching data with Server Components or client-side patterns
- Styling components with shadcn/ui and Tailwind CSS 4
- Setting up API routes or Server Actions
- Authentication flows (Firebase, Kakao, custom JWT)
- Admin dashboard development
- Performance optimization
- Organizing frontend code
- TypeScript best practices

---

## Quick Start

### New Component Checklist

Creating a component? Follow this checklist:

- [ ] Determine if Server or Client Component
- [ ] Use `'use client'` directive only when needed
- [ ] Props type with TypeScript interface
- [ ] Use `@/` import alias for project imports
- [ ] Use shadcn/ui components where applicable
- [ ] Use `cn()` utility for conditional classes
- [ ] Named export for components
- [ ] Async Server Components for data fetching when possible
- [ ] Client Components for interactivity (useState, useEffect, event handlers)
- [ ] Korean text for UI labels

### New Feature Checklist

Creating a feature? Set up this structure:

- [ ] Create `src/components/{feature-name}/` directory
- [ ] Separate Server and Client components
- [ ] Create API route if needed: `src/app/api/{feature}/route.ts`
- [ ] Set up TypeScript types in `src/types/`
- [ ] Create route in `src/app/{feature-name}/page.tsx`
- [ ] Use Server Components by default
- [ ] Add Client Components only for interactivity
- [ ] Use Server Actions for mutations when appropriate
- [ ] Add constants/enums to `src/constants/enums.ts` if needed

---

## Project Structure

Your YGS project structure (import with `@/` alias):

```
src/
â”œâ”€â”€ app/                        # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx                # Home/Landing page
â”‚   â”œâ”€â”€ layout.tsx              # Root layout with metadata
â”‚   â”œâ”€â”€ error.tsx               # Error boundary
â”‚   â”œâ”€â”€ admin/                  # Admin dashboard (protected)
â”‚   â”‚   â”œâ”€â”€ page.tsx            # Dashboard stats
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # Admin layout with auth check
â”‚   â”‚   â”œâ”€â”€ members/            # Member management
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx        # Member list
â”‚   â”‚   â”‚   â””â”€â”€ [id]/page.tsx   # Member detail
â”‚   â”‚   â”œâ”€â”€ consultations/      # Consultation management
â”‚   â”‚   â”œâ”€â”€ matching/           # Matching interface
â”‚   â”‚   â””â”€â”€ couples/            # Couple management
â”‚   â”œâ”€â”€ login/                  # Authentication
â”‚   â”‚   â”œâ”€â”€ page.tsx            # Login page
â”‚   â”‚   â””â”€â”€ kakao-callback/     # Kakao OAuth callback
â”‚   â”œâ”€â”€ form/                   # User profile form
â”‚   â”œâ”€â”€ match/                  # Matching interface
â”‚   â”œâ”€â”€ buy/                    # Membership purchase
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ auth/session/       # Token sync endpoint
â”œâ”€â”€ components/                 # React components (~60 total)
â”‚   â”œâ”€â”€ admin/                  # Admin components (27)
â”‚   â”‚   â”œâ”€â”€ DashboardStats.tsx
â”‚   â”‚   â”œâ”€â”€ MemberTable.tsx
â”‚   â”‚   â”œâ”€â”€ MemberFilters.tsx
â”‚   â”‚   â”œâ”€â”€ ConsultationFormModal.tsx
â”‚   â”‚   â””â”€â”€ modals/             # Edit modals
â”‚   â”œâ”€â”€ auth/                   # Auth components (4)
â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx
â”‚   â”‚   â”œâ”€â”€ SignupForm.tsx
â”‚   â”‚   â””â”€â”€ SocialLoginButton.tsx
â”‚   â”œâ”€â”€ layout/                 # Layout components (2)
â”‚   â”‚   â”œâ”€â”€ Navbar.tsx
â”‚   â”‚   â””â”€â”€ Footer.tsx
â”‚   â”œâ”€â”€ match/                  # Match components (3)
â”‚   â”œâ”€â”€ sections/               # Landing page sections (7)
â”‚   â”œâ”€â”€ seo/                    # SEO schema components (4)
â”‚   â””â”€â”€ ui/                     # shadcn/ui components (11)
â”‚       â”œâ”€â”€ button.tsx
â”‚       â”œâ”€â”€ card.tsx
â”‚       â”œâ”€â”€ input.tsx
â”‚       â”œâ”€â”€ dialog.tsx
â”‚       â”œâ”€â”€ select.tsx
â”‚       â””â”€â”€ ...
â”œâ”€â”€ lib/                        # Core utilities
â”‚   â”œâ”€â”€ api.ts                  # Main API client (token management)
â”‚   â”œâ”€â”€ adminApi.ts             # Admin-specific API methods
â”‚   â”œâ”€â”€ serverAuth.ts           # Server-side auth validation
â”‚   â”œâ”€â”€ firebaseAuth.ts         # Firebase SDK integration
â”‚   â”œâ”€â”€ firebase.ts             # Firebase config
â”‚   â”œâ”€â”€ kakao.ts                # Kakao SDK integration
â”‚   â”œâ”€â”€ s3Upload.ts             # S3 upload utilities
â”‚   â””â”€â”€ utils.ts                # cn() helper
â”œâ”€â”€ providers/                  # Context providers
â”‚   â””â”€â”€ AuthProvider.tsx        # Auth state context
â”œâ”€â”€ types/                      # TypeScript definitions
â”‚   â”œâ”€â”€ index.ts                # Common types
â”‚   â”œâ”€â”€ admin.ts                # Admin types (362 lines)
â”‚   â””â”€â”€ match.ts                # Match types
â”œâ”€â”€ constants/                  # Constants & enums
â”‚   â””â”€â”€ enums.ts                # Enum options with Korean labels
â””â”€â”€ middleware.ts               # Route protection
```

---

## Import Patterns

| Pattern | Usage | Example |
|---------|-------|---------|
| `@/` | Project imports (primary) | `import { api } from '@/lib/api'` |
| Relative | Same directory | `import { Component } from './Component'` |
| `type` | Type-only imports | `import type { User } from '@/types'` |

---

## Common Imports Cheatsheet

```typescript
// Server Component (no 'use client')
import { Suspense } from 'react';
import { redirect } from 'next/navigation';
import { cookies } from 'next/headers';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { getServerSession } from '@/lib/serverAuth';
import type { Metadata } from 'next';

// Client Component
'use client';

import { useState, useEffect, useCallback } from 'react';
import { useRouter, useSearchParams } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { useAuth } from '@/providers/AuthProvider';
import { api } from '@/lib/api';
import { cn } from '@/lib/utils';
import { Loader2 } from 'lucide-react';

// Admin API
import { getMembers, updateMemberBasic, getDashboardStats } from '@/lib/adminApi';

// Types
import type { AdminMember, MemberDetail, MemberFilter } from '@/types/admin';
import type { MatchCard } from '@/types/match';

// Constants
import { USER_STATUS_OPTIONS, GENDER_OPTIONS, getEnumLabel } from '@/constants/enums';
```

---

## Topic Guides

### shadcn/ui Overview

**What is shadcn/ui?**
- Beautifully designed, accessible components built on Radix UI
- Copy/paste components into your project (not a npm package dependency)
- Fully customizable with Tailwind CSS
- TypeScript-first with full type safety

**Key Concepts:**
- Components live in `src/components/ui/`
- Use `cn()` utility for class merging (clsx + tailwind-merge)
- Variants via class-variance-authority (cva)
- Follows Radix UI accessibility patterns

**Available Components in YGS:**
- button, input, textarea, card, dialog, select, checkbox, badge, alert, skeleton, image-upload

**Adding Components:**
```bash
npx shadcn@latest add button
npx shadcn@latest add card
npx shadcn@latest add dialog
npx shadcn@latest add form
```

---

### Component Patterns

**Server vs Client Components:**
- **Server Components (default)**: Data fetching, static content, no interactivity
- **Client Components ('use client')**: State, effects, event handlers, browser APIs

**Key Concepts:**
- Server Components are async and fetch data directly
- Client Components need 'use client' directive at the top
- Minimize Client Components for better performance
- Pass data from Server to Client Components via props
- Component structure: Props -> Hooks -> Handlers -> Render -> Export

**YGS-Specific Patterns:**
- Most admin components are Client Components (heavy state management)
- Landing page sections are Server Components (static content)
- Forms use manual state management (not react-hook-form)

**[Complete Guide: resources/component-patterns.md](resources/component-patterns.md)**

---

### Authentication (YGS-Specific)

**Multi-Method Authentication:**
1. **Firebase Social Auth**: Google, Apple
2. **Kakao OAuth**: Server-side token validation with Firebase exchange
3. **Custom JWT**: 60-min access token, 30-day refresh token

**AuthProvider Pattern:**
```typescript
'use client';

import { useAuth } from '@/providers/AuthProvider';

export function MyComponent() {
  const {
    user,
    isLoading,
    isAuthenticated,
    signupRequired,
    loginWithKakao,
    loginWithGoogle,
    logout,
    refreshUser,
  } = useAuth();

  if (isLoading) return <Loading />;
  if (!isAuthenticated) return <LoginPrompt />;

  return <div>Welcome, {user?.nickname}</div>;
}
```

**Server-Side Auth Check (Admin Layout):**
```typescript
// app/admin/layout.tsx
import { redirect } from 'next/navigation';
import { getServerSession } from '@/lib/serverAuth';

export default async function AdminLayout({ children }) {
  const session = await getServerSession();

  if (!session.isAuthenticated) {
    redirect('/login');
  }

  // Check admin claim from JWT
  const claims = parseJwtClaims(session.accessToken);
  if (!claims?.is_admin) {
    redirect('/');
  }

  return (
    <div className="flex min-h-screen">
      <AdminSidebar />
      <main className="flex-1">{children}</main>
    </div>
  );
}
```

**Hydration Protection Pattern:**
```typescript
'use client';

import { useState, useEffect } from 'react';
import { useAuth } from '@/providers/AuthProvider';

export function Navbar() {
  const { user, isLoading, isAuthenticated } = useAuth();
  const [mounted, setMounted] = useState(false);

  useEffect(() => {
    setMounted(true);
  }, []);

  return (
    <nav>
      {/* Always render static content */}
      <Logo />

      {/* Auth-dependent content only after mount */}
      {mounted && !isLoading ? (
        isAuthenticated ? <UserMenu user={user} /> : <LoginButton />
      ) : (
        <div className="w-[72px] h-10" /> // Placeholder
      )}
    </nav>
  );
}
```

---

### Data Fetching

**PRIMARY PATTERNS:**

**Server Component Data Fetching (Recommended):**
```typescript
// app/admin/page.tsx
import { getDashboardStats, getRegistrationTrend } from '@/lib/adminApi';

export default async function AdminDashboard() {
  const [stats, trend] = await Promise.all([
    getDashboardStats(),
    getRegistrationTrend(7),
  ]);

  return <DashboardStats stats={stats} trend={trend} />;
}
```

**Client-Side Data Fetching (Admin Pattern):**
```typescript
'use client';

import { useState, useEffect } from 'react';
import { getMembers } from '@/lib/adminApi';
import type { AdminMember, MemberFilter } from '@/types/admin';

export function MemberList() {
  const [members, setMembers] = useState<AdminMember[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    async function fetchMembers() {
      try {
        setLoading(true);
        const response = await getMembers({ skip: 0, limit: 20 });
        setMembers(response.items);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
      } finally {
        setLoading(false);
      }
    }
    fetchMembers();
  }, []);

  if (loading) return <Skeleton />;
  if (error) return <Alert variant="destructive">{error}</Alert>;

  return <MemberTable members={members} />;
}
```

**[Complete Guide: resources/data-fetching.md](resources/data-fetching.md)**

---

### API Client Patterns

**Main API Client (`lib/api.ts`):**
```typescript
import { api } from '@/lib/api';

// Token management
import { getAccessToken, setTokens, clearTokens, hasTokens } from '@/lib/api';

// Auth methods
await api.post('/api/v1/auth/login', { phone, password });
await firebaseLogin(idToken);
await kakaoLogin(code, redirectUri);

// Generic methods
const data = await api.get<ResponseType>('/api/v1/endpoint');
await api.post('/api/v1/endpoint', body);
await api.patch('/api/v1/endpoint', changes);
```

**Admin API Client (`lib/adminApi.ts`):**
```typescript
import {
  // Dashboard
  getDashboardStats,
  getRegistrationTrend,
  getGenderRatio,
  getReferralStats,

  // Member Management
  getMembers,
  getMemberDetail,
  updateMemberBasic,
  updateMemberProfile,
  updateMemberLifestyle,
  updateMemberPreference,
  updateMemberSubscription,
  exportMembersToExcel,

  // Consultations
  getConsultations,
  createConsultation,
  updateConsultation,
  deleteConsultation,

  // Matching
  getCandidates,
  getCompatibilityScore,
} from '@/lib/adminApi';
```

---

### Constants & Enums Pattern

**Define in `constants/enums.ts`:**
```typescript
// constants/enums.ts
export const USER_STATUS_OPTIONS = [
  { value: "draft", label: "ìƒë‹´ ì „" },
  { value: "pending_review", label: "ìƒë‹´ ì˜ˆì •" },
  { value: "active", label: "ìƒë‹´ ì™„ë£Œ" },
  { value: "suspended", label: "ì •ì§€" },
  { value: "withdrawn", label: "íƒˆí‡´" },
] as const;

export const GENDER_OPTIONS = [
  { value: "male", label: "ë‚¨ì„±" },
  { value: "female", label: "ì—¬ì„±" },
] as const;

// Helper functions
export function getEnumLabel(
  options: readonly { value: string; label: string }[],
  value: string | null | undefined
): string {
  if (!value) return "-";
  return options.find(o => o.value === value)?.label ?? value;
}

export function getUserStatusLabel(value: string | null | undefined): string {
  return getEnumLabel(USER_STATUS_OPTIONS, value);
}
```

**Usage in Components:**
```typescript
import { USER_STATUS_OPTIONS, getEnumLabel } from '@/constants/enums';

// In Select component
<Select value={status} onValueChange={setStatus}>
  <SelectTrigger>
    <SelectValue placeholder="ìƒíƒœ ì„ íƒ" />
  </SelectTrigger>
  <SelectContent>
    {USER_STATUS_OPTIONS.map(option => (
      <SelectItem key={option.value} value={option.value}>
        {option.label}
      </SelectItem>
    ))}
  </SelectContent>
</Select>

// Display label
<span>{getEnumLabel(USER_STATUS_OPTIONS, member.status)}</span>
```

---

### Form Patterns (YGS-Specific)

**Pattern 1: Manual State Management (Most Common in YGS):**
```typescript
'use client';

import { useState, useCallback } from 'react';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Loader2 } from 'lucide-react';

interface FormData {
  phone: string;
  name: string;
  gender: string;
  birthYear: string;
}

interface FormErrors {
  phone?: string;
  name?: string;
  gender?: string;
  birthYear?: string;
}

export function SignupForm() {
  const [formData, setFormData] = useState<FormData>({
    phone: '', name: '', gender: '', birthYear: ''
  });
  const [errors, setErrors] = useState<FormErrors>({});
  const [loading, setLoading] = useState(false);

  const validateForm = (): boolean => {
    const newErrors: FormErrors = {};

    if (!/^010-\d{4}-\d{4}$/.test(formData.phone)) {
      newErrors.phone = "ì˜¬ë°”ë¥¸ ì „í™”ë²ˆí˜¸ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.";
    }
    if (formData.name.length < 2) {
      newErrors.name = "ì´ë¦„ì€ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.";
    }
    if (!formData.gender) {
      newErrors.gender = "ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.";
    }

    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  const handleInputChange = useCallback((field: keyof FormData, value: string) => {
    setFormData(prev => ({ ...prev, [field]: value }));
    if (errors[field]) {
      setErrors(prev => ({ ...prev, [field]: undefined }));
    }
  }, [errors]);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    if (!validateForm()) return;

    setLoading(true);
    try {
      await api.post('/signup', formData);
    } catch (err) {
      setErrors({ ...errors, phone: "íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤." });
    } finally {
      setLoading(false);
    }
  };

  return (
    <form onSubmit={handleSubmit} className="space-y-4">
      <div className="space-y-2">
        <Input
          value={formData.phone}
          onChange={e => handleInputChange('phone', e.target.value)}
          placeholder="ì „í™”ë²ˆí˜¸"
          className={cn(errors.phone && "border-red-500")}
        />
        {errors.phone && <p className="text-sm text-red-500">{errors.phone}</p>}
      </div>
      <Button type="submit" disabled={loading} className="w-full">
        {loading ? <Loader2 className="animate-spin mr-2 h-4 w-4" /> : null}
        {loading ? "ì²˜ë¦¬ ì¤‘..." : "ê°€ì…í•˜ê¸°"}
      </Button>
    </form>
  );
}
```

**Pattern 2: Modal Form (Admin Edit):**
```typescript
'use client';

import { useState, useEffect } from 'react';
import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from '@/components/ui/dialog';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { updateMemberBasic } from '@/lib/adminApi';
import type { MemberDetail } from '@/types/admin';

interface EditModalProps {
  isOpen: boolean;
  onClose: () => void;
  onSuccess: (member: MemberDetail) => void;
  member: MemberDetail;
}

export function BasicInfoEditModal({ isOpen, onClose, onSuccess, member }: EditModalProps) {
  const [formData, setFormData] = useState({ name: '', status: '' });
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState('');

  useEffect(() => {
    if (isOpen) {
      setFormData({ name: member.name, status: member.status });
      setError('');
    }
  }, [isOpen, member]);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);
    setError('');

    try {
      // Only send changed fields
      const changes: Record<string, string> = {};
      if (formData.name !== member.name) changes.name = formData.name;
      if (formData.status !== member.status) changes.status = formData.status;

      if (Object.keys(changes).length === 0) {
        onClose();
        return;
      }

      const result = await updateMemberBasic(member.id, changes);
      onSuccess(result);
      onClose();
    } catch (err) {
      setError(err instanceof Error ? err.message : 'ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    } finally {
      setLoading(false);
    }
  };

  return (
    <Dialog open={isOpen} onOpenChange={onClose}>
      <DialogContent>
        <DialogHeader>
          <DialogTitle>ê¸°ë³¸ ì •ë³´ ìˆ˜ì •</DialogTitle>
        </DialogHeader>
        <form onSubmit={handleSubmit} className="space-y-4">
          <Input
            value={formData.name}
            onChange={e => setFormData(prev => ({ ...prev, name: e.target.value }))}
            placeholder="ì´ë¦„"
          />
          {error && <p className="text-sm text-red-500">{error}</p>}
          <DialogFooter>
            <Button type="button" variant="outline" onClick={onClose}>ì·¨ì†Œ</Button>
            <Button type="submit" disabled={loading}>
              {loading ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}
            </Button>
          </DialogFooter>
        </form>
      </DialogContent>
    </Dialog>
  );
}
```

---

### URL-Based State Pattern (Pagination/Filtering)

```typescript
'use client';

import { useCallback } from 'react';
import { useRouter, useSearchParams } from 'next/navigation';
import type { MemberFilter } from '@/types/admin';

export function useMemberFilters() {
  const searchParams = useSearchParams();
  const router = useRouter();

  const filters: MemberFilter = {
    status: searchParams.get('status') || '',
    gender: searchParams.get('gender') || '',
    search: searchParams.get('search') || '',
    skip: Number(searchParams.get('skip')) || 0,
    limit: Number(searchParams.get('limit')) || 20,
  };

  const updateURL = useCallback((newFilters: Partial<MemberFilter>) => {
    const params = new URLSearchParams();
    const merged = { ...filters, ...newFilters };

    if (merged.status) params.set('status', merged.status);
    if (merged.gender) params.set('gender', merged.gender);
    if (merged.search) params.set('search', merged.search);
    if (merged.skip) params.set('skip', String(merged.skip));
    if (merged.limit !== 20) params.set('limit', String(merged.limit));

    router.push(`/admin/members${params.toString() ? `?${params}` : ''}`);
  }, [filters, router]);

  return { filters, updateURL };
}
```

---

### Styling

**shadcn/ui + Tailwind CSS 4:**
- Primary: shadcn/ui pre-built components with Tailwind
- Customization: Override with Tailwind utility classes
- Class merging: Use `cn()` utility for conditional classes

**cn() Utility (IMPORTANT):**
```typescript
import { cn } from '@/lib/utils';

// Conditional classes
<div className={cn(
  "flex items-center gap-2",
  isActive && "bg-primary text-white",
  isScrolled && "shadow-sm",
  className
)}>

// Status-based styling
const statusColors: Record<string, string> = {
  draft: "bg-slate-100 text-slate-600",
  active: "bg-green-100 text-green-700",
  suspended: "bg-red-100 text-red-600",
};

<Badge className={cn(statusColors[status] || "bg-gray-100")}>
  {getStatusLabel(status)}
</Badge>
```

**YGS Color System:**
```typescript
// Primary brand color (Coral/Orange)
className="bg-primary text-white"
className="hover:bg-primary-dark"
className="text-primary"

// Gradients
className="bg-gradient-to-r from-amber-500 to-orange-500"

// Status colors
className="text-red-500"     // Errors, destructive
className="bg-green-50"      // Success
className="text-gray-500"    // Muted
```

**Responsive Patterns:**
```typescript
// Grid
className="grid grid-cols-1 lg:grid-cols-4 gap-4"
className="grid grid-cols-2 lg:grid-cols-4 gap-4"

// Text
className="text-xl sm:text-2xl md:text-3xl lg:text-4xl"

// Display
className="hidden md:flex"   // Hidden on mobile
className="md:hidden"        // Mobile only

// Padding
className="px-4 sm:px-6 md:px-12"
```

**[Complete Guide: resources/styling-guide.md](resources/styling-guide.md)**

---

### File Organization

**App Router Structure:**
```
src/
  app/
    page.tsx              # Home page (/)
    layout.tsx            # Root layout
    {route}/
      page.tsx            # Route page
      layout.tsx          # Route layout (optional)
      loading.tsx         # Route loading
      error.tsx           # Route error
    api/
      {route}/
        route.ts          # API route handler
  components/
    ui/                   # shadcn/ui components
      button.tsx
      card.tsx
      input.tsx
    admin/                # Admin-specific components
      DashboardStats.tsx
      MemberTable.tsx
      modals/             # Edit modals
    {feature}/            # Feature-specific components
      Component.tsx
```

**Component Organization:**
- shadcn/ui components in `src/components/ui/`
- Feature components in `src/components/{feature}/`
- Admin components in `src/components/admin/`
- Keep Server and Client components separate

**[Complete Guide: resources/file-organization.md](resources/file-organization.md)**

---

### Loading & Error States

**App Router Conventions:**

**Loading:**
```typescript
// loading.tsx (route-level)
import { Skeleton } from '@/components/ui/skeleton';

export default function Loading() {
  return (
    <div className="space-y-4">
      <Skeleton className="h-8 w-48" />
      <div className="grid grid-cols-1 lg:grid-cols-4 gap-4">
        {[...Array(4)].map((_, i) => (
          <Skeleton key={i} className="h-24" />
        ))}
      </div>
    </div>
  );
}
```

**Error Handling (Korean):**
```typescript
// error.tsx (route-level)
'use client';

import { Button } from '@/components/ui/button';
import { AlertCircle } from 'lucide-react';

export default function Error({ error, reset }: { error: Error; reset: () => void }) {
  return (
    <div className="flex flex-col items-center justify-center py-12">
      <AlertCircle className="h-12 w-12 text-destructive mb-4" />
      <h2 className="text-xl font-bold mb-2">ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤</h2>
      <p className="text-muted-foreground mb-4">í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>
      <Button onClick={reset}>ë‹¤ì‹œ ì‹œë„</Button>
    </div>
  );
}
```

**[Complete Guide: resources/loading-and-error-states.md](resources/loading-and-error-states.md)**

---

### Performance

**Next.js 15 Optimizations:**
- Server Components by default (zero JS to client)
- Dynamic imports: `const Heavy = dynamic(() => import('./Heavy'))`
- Image optimization: `next/image` component
- Font optimization: Built-in font loading
- Turbopack: Faster dev builds (already enabled)

**React 19 Patterns:**
- `useMemo`: Expensive computations
- `useCallback`: Event handlers passed to children
- `React.memo`: Prevent unnecessary re-renders

**[Complete Guide: resources/performance.md](resources/performance.md)**

---

### TypeScript

**Standards:**
- Strict mode enabled
- Explicit return types on functions
- Type imports: `import type { User } from '@/types'`
- Component prop interfaces with JSDoc
- No `any` type (use `unknown` if needed)

**YGS Type Patterns:**
```typescript
// types/admin.ts
interface AdminMember {
  id: string;
  name: string;
  gender: "male" | "female";
  phone: string;
  status: string;
  birth_year: number | null;
  created_at: string;
}

interface MemberDetail extends AdminMember {
  profile: UserProfile | null;
  lifestyle: UserLifestyle | null;
  preference: UserPreference | null;
  subscription: UserSubscription | null;
  documents: UserDocument[];
  photos: UserPhoto[];
}

// Update request types (partial)
interface BasicInfoUpdateRequest {
  name?: string;
  status?: string;
  is_admin?: boolean;
  birth_year?: number;
  gender?: "male" | "female";
}
```

**[Complete Guide: resources/typescript-standards.md](resources/typescript-standards.md)**

---

## Navigation Guide

| Need to... | Read this resource |
|------------|-------------------|
| Create a component | [component-patterns.md](resources/component-patterns.md) |
| Fetch data | [data-fetching.md](resources/data-fetching.md) |
| Organize files/folders | [file-organization.md](resources/file-organization.md) |
| Style components | [styling-guide.md](resources/styling-guide.md) |
| Set up routing | [routing-guide.md](resources/routing-guide.md) |
| Handle loading/errors | [loading-and-error-states.md](resources/loading-and-error-states.md) |
| Optimize performance | [performance.md](resources/performance.md) |
| TypeScript types | [typescript-standards.md](resources/typescript-standards.md) |
| Forms/Auth/API Routes | [common-patterns.md](resources/common-patterns.md) |
| See full examples | [complete-examples.md](resources/complete-examples.md) |

---

## Core Principles

1. **Server Components First**: Use Server Components by default, Client Components only for interactivity
2. **Async Data Fetching**: Fetch data directly in Server Components
3. **Minimize Client JS**: Less JavaScript sent to the browser = better performance
4. **App Router Conventions**: Use loading.tsx, error.tsx, layout.tsx appropriately
5. **shadcn/ui Components**: Use pre-built accessible components from `@/components/ui/`
6. **cn() for Classes**: Always use `cn()` for conditional/merged class names
7. **Import with @/ alias**: Consistent import paths across the project
8. **Type Safety**: Strict TypeScript with explicit types
9. **Korean Localization**: All user-facing text in Korean
10. **AuthProvider**: Use `useAuth()` hook for client-side auth state

---

## Quick Reference: Templates

### Server Component Template

```typescript
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { getDashboardStats } from '@/lib/adminApi';
import type { DashboardStats } from '@/types/admin';
import type { Metadata } from 'next';

export const metadata: Metadata = {
  title: 'ëŒ€ì‹œë³´ë“œ | YGS ê´€ë¦¬ì',
};

export default async function DashboardPage() {
  const stats: DashboardStats = await getDashboardStats();

  return (
    <div className="container py-8">
      <h1 className="text-2xl font-bold mb-6">ëŒ€ì‹œë³´ë“œ</h1>
      <div className="grid grid-cols-2 lg:grid-cols-4 gap-4">
        <Card>
          <CardHeader>
            <CardTitle>ì „ì²´ íšŒì›</CardTitle>
          </CardHeader>
          <CardContent>
            <p className="text-3xl font-bold">{stats.total_members}</p>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
```

### Client Component Template

```typescript
'use client';

import { useState, useCallback, useEffect } from 'react';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Skeleton } from '@/components/ui/skeleton';
import { getMembers } from '@/lib/adminApi';
import { cn } from '@/lib/utils';
import { Loader2 } from 'lucide-react';
import type { AdminMember } from '@/types/admin';

interface MemberListProps {
  className?: string;
}

export function MemberList({ className }: MemberListProps) {
  const [members, setMembers] = useState<AdminMember[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  const fetchMembers = useCallback(async () => {
    try {
      setLoading(true);
      const response = await getMembers({ skip: 0, limit: 20 });
      setMembers(response.items);
    } catch (err) {
      setError(err instanceof Error ? err.message : 'ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    } finally {
      setLoading(false);
    }
  }, []);

  useEffect(() => {
    fetchMembers();
  }, [fetchMembers]);

  if (loading) {
    return (
      <div className="space-y-4">
        {[...Array(5)].map((_, i) => (
          <Skeleton key={i} className="h-16 w-full" />
        ))}
      </div>
    );
  }

  if (error) {
    return (
      <div className="text-center py-8">
        <p className="text-red-500 mb-4">{error}</p>
        <Button onClick={fetchMembers}>ë‹¤ì‹œ ì‹œë„</Button>
      </div>
    );
  }

  return (
    <div className={cn("space-y-4", className)}>
      {members.map(member => (
        <div key={member.id} className="p-4 border rounded-lg">
          <p className="font-medium">{member.name}</p>
          <p className="text-sm text-muted-foreground">{member.phone}</p>
        </div>
      ))}
    </div>
  );
}
```

For complete examples, see [resources/complete-examples.md](resources/complete-examples.md)

---

## Related Skills

- **error-tracking**: Error tracking with Sentry (applies to frontend too)
- **fastapi-backend-guidelines**: Backend API patterns that frontend consumes

---

**Skill Status**: Updated for YGS project with comprehensive coverage of actual codebase patterns


---

## ğŸ¤– Claude

Forced reflow ì´ìŠˆë¥¼ ì°¾ì•„ì„œ ìˆ˜ì •í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ë¨¼ì € ë¬¸ì œê°€ ë˜ëŠ” ì½”ë“œë¥¼ íƒìƒ‰í•˜ê² ìŠµë‹ˆë‹¤.

---

## ğŸ¤– Claude

[Tool: Grep]

---

## ğŸ¤– Claude

[Tool: Grep]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ¤– Claude

ì§ì ‘ì ì¸ DOM ì¸¡ì • APIëŠ” ì—†ë„¤ìš”. ë‹¤ë¥¸ ì¼ë°˜ì ì¸ ì›ì¸ë“¤ì„ íƒìƒ‰í•˜ê² ìŠµë‹ˆë‹¤.

---

## ğŸ¤– Claude

[Tool: Grep]

---

## ğŸ¤– Claude

[Tool: Grep]

---

## ğŸ¤– Claude

[Tool: Grep]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ¤– Claude

Forced reflow ì›ì¸ì´ ë  ìˆ˜ ìˆëŠ” ì½”ë“œë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤. í•´ë‹¹ íŒŒì¼ë“¤ì„ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.

---

## ğŸ¤– Claude

[Tool: Read]

---

## ğŸ¤– Claude

[Tool: Read]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ¤– Claude

[Tool: TodoWrite]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ¤– Claude

ë‘ ê°€ì§€ forced reflow ì›ì¸ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤:

1. **Navbar.tsx**: `window.scrollY`ë¥¼ scroll ì´ë²¤íŠ¸ë§ˆë‹¤ ì§ì ‘ ì½ìŒ
2. **MemberDocumentsTab.tsx**: `document.body.style.overflow` ì§ì ‘ ì¡°ì‘

ìˆ˜ì •í•˜ê² ìŠµë‹ˆë‹¤.

---

## ğŸ¤– Claude

[Tool: Edit]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ¤– Claude

[Tool: TodoWrite]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ¤– Claude

[Tool: Edit]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ¤– Claude

ë‹¤ë¥¸ ëª¨ë‹¬ì—ì„œë„ ê°™ì€ íŒ¨í„´ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.

---

## ğŸ¤– Claude

[Tool: Grep]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ¤– Claude

[Tool: Grep]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ¤– Claude

[Tool: Grep]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ¤– Claude

[Tool: TodoWrite]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ¤– Claude

ë¹Œë“œ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.

---

## ğŸ¤– Claude

[Tool: Bash]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ¤– Claude

[Tool: TodoWrite]

---

## ğŸ§‘ User

[Tool Result]

---

## ğŸ¤– Claude

ìˆ˜ì • ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.

## ìˆ˜ì • ë‚´ìš©

### 1. Navbar.tsx (scroll handler ìµœì í™”)
**ë¬¸ì œ**: scroll ì´ë²¤íŠ¸ë§ˆë‹¤ `window.scrollY`ë¥¼ ë™ê¸°ì ìœ¼ë¡œ ì½ì–´ forced reflow ë°œìƒ

**ìˆ˜ì •**:
- `requestAnimationFrame`ìœ¼ë¡œ layout readë¥¼ ë‹¤ìŒ frameì— ë°°ì¹˜ (batching)
- `{ passive: true }` ì˜µì…˜ ì¶”ê°€ë¡œ ë¸Œë¼ìš°ì € ìµœì í™” í™œì„±í™”
- `ticking` í”Œë˜ê·¸ë¡œ ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€

```typescript
// Before
const handleScroll = () => {
  setIsScrolled(window.scrollY > 10);
};
window.addEventListener("scroll", handleScroll);

// After
let ticking = false;
const handleScroll = () => {
  if (!ticking) {
    requestAnimationFrame(() => {
      setIsScrolled(window.scrollY > 10);
      ticking = false;
    });
    ticking = true;
  }
};
window.addEventListener("scroll", handleScroll, { passive: true });
```

### 2. MemberDocumentsTab.tsx (body scroll lock ìµœì í™”)
**ë¬¸ì œ**: `document.body.style.overflow = "hidden"` ì§ì ‘ ì¡°ì‘ìœ¼ë¡œ forced reflow ë°œìƒ

**ìˆ˜ì •**: Tailwind CSS class toggle ë°©ì‹ìœ¼ë¡œ ë³€ê²½ (style ì§ì ‘ ìˆ˜ì • ì•ˆí•¨)

```typescript
// Before
document.body.style.overflow = "hidden";

// After
document.body.classList.add("overflow-hidden");
```

ì´ ìˆ˜ì •ìœ¼ë¡œ Lighthouse forced reflow ê²½ê³ ê°€ í•´ê²°ë©ë‹ˆë‹¤.

---

